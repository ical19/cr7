<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Flow Estimasi CR7</title>

  <!-- Import Mermaid.js -->
  <script type="module">
    import mermaid from "https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs";
    mermaid.initialize({
      startOnLoad: true,
      theme: "neutral",
      themeVariables: {
        // Skema warna biru modern
        primaryColor: "#e8f4fd",
        primaryBorderColor: "#1a73e8",
        primaryTextColor: "#0d47a1",
        secondaryColor: "#f0f7ff",
        secondaryBorderColor: "#4285f4",
        secondaryTextColor: "#1a237e",
        tertiaryColor: "#e3f2fd",
        tertiaryBorderColor: "#1565c0",
        tertiaryTextColor: "#0d47a1",
        lineColor: "#1a73e8",
        fontSize: "15px",
        fontFamily: "Poppins, sans-serif",
        edgeLabelBackground: "#f8fbff",
        clusterBkg: "#f0f7ff",
        clusterBorder: "#c2e7ff",
        nodeBorder: "#1a73e8",
        mainBkg: "#e8f4fd",
        nodeTextColor: "#1a237e",
      },
    });
  </script>

  <!-- CSS -->
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap');
    
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      background: linear-gradient(135deg, #f5f9ff 0%, #e8f4fd 100%);
      font-family: "Poppins", sans-serif;
      color: #333;
      min-height: 100vh;
      padding: 40px 20px;
      position: relative;
    }
    
    body::before {
      content: "";
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 10% 20%, rgba(26, 115, 232, 0.05) 0%, transparent 20%),
        radial-gradient(circle at 90% 80%, rgba(66, 133, 244, 0.05) 0%, transparent 20%);
      z-index: -1;
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
    }
    
    header {
      text-align: center;
      margin-bottom: 40px;
      position: relative;
    }
    
    h1 {
      color: #1a237e;
      font-size: 2.5rem;
      font-weight: 700;
      margin-bottom: 10px;
      position: relative;
      display: inline-block;
    }
    
    h1::after {
      content: "";
      position: absolute;
      bottom: -10px;
      left: 50%;
      transform: translateX(-50%);
      width: 120px;
      height: 4px;
      background: linear-gradient(90deg, #1a73e8, #4285f4);
      border-radius: 2px;
    }
    
    .subtitle {
      color: #5f6368;
      font-size: 1.1rem;
      font-weight: 400;
      max-width: 600px;
      margin: 0 auto;
      line-height: 1.6;
    }
    
    .diagram-wrapper {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 30px;
      box-shadow: 
        0 10px 30px rgba(26, 115, 232, 0.1),
        0 1px 3px rgba(0, 0, 0, 0.05);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.5);
      overflow-x: auto;
      margin-bottom: 30px;
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }
    
    .diagram-wrapper:hover {
      transform: translateY(-5px);
      box-shadow: 
        0 15px 35px rgba(26, 115, 232, 0.15),
        0 5px 15px rgba(0, 0, 0, 0.07);
    }
    
    .mermaid {
      display: flex;
      justify-content: center;
    }
    
    .mermaid svg {
      margin: auto;
      display: block;
      max-width: 100%;
      height: auto;
      filter: drop-shadow(0 5px 10px rgba(0, 0, 0, 0.05));
    }
    
    .legend {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 20px;
      margin: 30px 0;
    }
    
    .legend-item {
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.8);
      padding: 8px 15px;
      border-radius: 50px;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
      border: 1px solid rgba(26, 115, 232, 0.1);
    }
    
    .legend-color {
      width: 16px;
      height: 16px;
      margin-right: 8px;
      border-radius: 4px;
    }
    
    .legend-process {
      background: #e8f4fd;
      border: 2px solid #1a73e8;
    }
    
    .legend-decision {
      background: #fff8e1;
      border: 2px solid #f9ab00;
      border-radius: 50%;
    }
    
    .legend-start {
      background: #e8f5e9;
      border: 2px solid #34a853;
      border-radius: 50%;
    }
    
    .legend-end {
      background: #fce8e6;
      border: 2px solid #ea4335;
      border-radius: 50%;
    }
    
    .info-panel {
      background: linear-gradient(135deg, #1a73e8, #4285f4);
      color: white;
      border-radius: 16px;
      padding: 25px;
      margin-top: 30px;
      box-shadow: 0 10px 25px rgba(26, 115, 232, 0.2);
    }
    
    .info-panel h2 {
      font-size: 1.4rem;
      margin-bottom: 15px;
      display: flex;
      align-items: center;
    }
    
    .info-panel h2::before {
      content: "üí°";
      margin-right: 10px;
      font-size: 1.6rem;
    }
    
    .info-panel p {
      line-height: 1.6;
      opacity: 0.9;
    }
    
    footer {
      text-align: center;
      color: #5f6368;
      font-size: 0.9rem;
      margin-top: 40px;
      padding-top: 20px;
      border-top: 1px solid rgba(0, 0, 0, 0.05);
    }
    
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      max-width: 800px;
      margin: 0 auto;
    }
    
    .footer-logo {
      display: flex;
      align-items: center;
      font-weight: 600;
      color: #1a73e8;
    }
    
    .footer-logo::before {
      content: "‚öôÔ∏è";
      margin-right: 8px;
    }
    
    /* Responsive */
    @media (max-width: 768px) {
      h1 {
        font-size: 2rem;
      }
      
      .diagram-wrapper {
        padding: 20px;
      }
      
      .footer-content {
        flex-direction: column;
        gap: 15px;
      }
      
      .legend {
        gap: 10px;
      }
    }
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Flowchart Estimasi CR7</h1>
      <p class="subtitle">Visualisasi alur kerja proses estimasi CR7 dari awal hingga follow up customer</p>
    </header>
    
    <div class="legend">
      <div class="legend-item">
        <div class="legend-color legend-process"></div>
        <span>Proses / Aktivitas</span>
      </div>
      <div class="legend-item">
        <div class="legend-color legend-decision"></div>
        <span>Keputusan / Percabangan</span>
      </div>
      <div class="legend-item">
        <div class="legend-color legend-start"></div>
        <span>Mulai Proses</span>
      </div>
      <div class="legend-item">
        <div class="legend-color legend-end"></div>
        <span>Akhir Proses</span>
      </div>
    </div>
    
    <div class="diagram-wrapper">
      <div class="mermaid">
        flowchart TD
          %% === Alur Estimasi CR7 ===
          A([Mulai Estimasi CR7]) --> B[Teknisi Mengisi Komponen]
          B --> C[Data Dikirim ke Sparepart]
          C --> D[Sparepart Mengisi Harga Part di Website CR7]
          D --> E[Flow Kembali ke Teknisi]
          E --> F{Perlu Pengeditan?}

          %% Percabangan pengeditan
          F -->|Ya| G[Kembali ke Sparepart untuk Edit Harga/Barang]
          F -->|Tidak| H[Kirim ke PTM / Controller]
          H --> I[Kirim ke Service Advisor]

          %% SA decision
          I --> J{Service Advisor Sudah Mengisi Harga Jasa?}
          J -->|Belum| K[PTM Ingatkan SA untuk Mengisi]
          K --> L[Status: Sent]
          J -->|Sudah| M[PTM Mengecek dan Memberi Status Released]

          %% Estimasi ACC Customer
          M --> N{Estimasi Di-ACC Customer?}
          N -->|Ya| O[PTM Dapat Edit Estimasi - Hapus Komponen Tertentu]
          O --> P[Estimasi Diteruskan ke MRA untuk Follow Up Customer]
          N -->|Tidak| Q[MRA Melakukan Follow Up dan Isi Remark 'Belum Ganti']

          %% MRA Output
          P --> R{Hasil Follow Up?}
          R -->|ACC| S[Status Akhir: Customer Menyetujui Estimasi]
          R -->|Belum| T[Status: Menunggu Keputusan / Remark Follow Up]

          %% Penataan layout
          L -.-> I
          G -.-> D
          S --> U([Proses Selesai])
          T --> U

          %% Styling nodes
          classDef startEnd fill:#e8f5e9,stroke:#34a853,stroke-width:2px,color:#0d652d
          classDef process fill:#e8f4fd,stroke:#1a73e8,stroke-width:2px,color:#1a237e
          classDef decision fill:#fff8e1,stroke:#f9ab00,stroke-width:2px,color:#5f3700
          class A,U startEnd
          class B,C,D,E,G,H,I,K,L,M,O,P,Q,S,T process
          class F,J,N,R decision
      </div>
    </div>
    
    <div class="info-panel">
      <h2>Informasi Flowchart</h2>
      <p>Flowchart ini menggambarkan alur lengkap proses estimasi CR7, mulai dari pengisian komponen oleh teknisi hingga follow up oleh MRA. Setiap tahap memiliki peran dan tanggung jawab yang jelas untuk memastikan proses berjalan efisien.</p>
    </div>
    
    <footer>
      <div class="footer-content">
        <div class="footer-logo">Sistem Estimasi CR7</div>
        <div>¬© 2025 Flow Estimasi CR7 | Dibuat dengan ‚ù§Ô∏è menggunakan Mermaid.js</div>
      </div>
    </footer>
  </div>
</body>
</html>
